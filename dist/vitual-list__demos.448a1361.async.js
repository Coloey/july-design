(self.webpackChunkjuly_design=self.webpackChunkjuly_design||[]).push([[738],{25131:function(d,E,u){"use strict";u.r(E),u.d(E,{default:function(){return re}});var I=u(5574),f=u.n(I),a=u(67294),g=u(13769),m=u.n(g),S=function(e){var t=e.length-1;return t<0?0:e[t].bottom},p=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;if(e>=1){var n=t[e].top-(t[e-r]?t[e-r].top:0);return t[e-1].bottom-n}else return 0},L=function(e,t){Array.from(t).forEach(function(r){var n=Number(r.getAttribute("date-index")),l=r.getBoundingClientRect(),h=l.height,j=e[n].height,c=j-h;if(c){e[n].bottom=e[n].bottom-c,e[n].height=h;for(var b=n+1;b<e.length;b++)e[b].top=e[b-1].bottom,e[b].bottom=e[b].bottom-c}})},G=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:32,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=0,n=Array(t);r<t;)n[r]={index:r,height:e,top:r*e,bottom:(r+++1)*e};return n},J=G,K=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=0,n=e.length-1,l=null;r<=n;){var h=Math.floor((r+n)/2),j=e[h].bottom;if(j===t)return h+1;j<t?r=h+1:j>t&&((l===null||l>h)&&(l=h),n=h-1)}return l},Q=function(e,t,r){var n=e.length,l=t+r;return n>0?Math.min(n,l):l},U=u(52677),X=u.n(U),Z=(typeof navigator=="undefined"?"undefined":X()(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),A=Z,v=u(85893),k=["resources","estimatedItemSize","Item","virtual","visibleCount","height"];function q(s){var e=s.resources,t=s.estimatedItemSize,r=s.Item,n=s.virtual,l=s.visibleCount,h=s.height,j=m()(s,k),c=J(t,e.length),b=1,ne=(0,a.useState)(0),F=f()(ne,2),ae=F[0],H=F[1],ie=(0,a.useState)(S(c)),R=f()(ie,2),se=R[0],w=R[1],ue=(0,a.useState)(0),W=f()(ue,2),O=W[0],oe=W[1],le=(0,a.useState)(l),B=f()(le,2),N=B[0],ve=B[1],fe=(0,a.useState)(l),T=f()(fe,2),P=T[0],ce=T[1],$=(0,a.useRef)(),z=(0,a.useRef)(),V=function(){var o,x=$||z,y=(o=x.current)===null||o===void 0?void 0:o.parentElement;switch(window.getComputedStyle(y).overflowY){case"auto":case"scroll":case"overlay":case"visible":return y}return document.body},Y=Math.min(O,b*P),de=Math.min(e.length-N,b*P),he=e.slice(O-Y,N+de),ge=function(o){var x,y=o.myvisibleCount,M=o.startIndex;H(M>=1?(x=c[M-1])===null||x===void 0?void 0:x.bottom:0),w(S(c)),oe(M),ce(y),ve(Q(e,M,y))},C=function(){requestAnimationFrame(function(){var o=V(),x=o.scrollTop,y=K(c,x);ge({myvisibleCount:P,startIndex:y})})};return(0,a.useEffect)(function(){var i,o=(i=z.current)===null||i===void 0?void 0:i.children;o.length&&(L(c,o),w(S(c)),H(p(O,c,Y)))},[]),(0,a.useLayoutEffect)(function(){var i=V();return i.addEventListener("scroll",C,!1),A?i.addEventListener("DOMMouseScroll",C,!1):i.addEventListener("wheel",C,!1),function(){i&&(i.removeEventListener("scroll",C,!1),A?i.removeEventListener("DOMMouseScroll",C,!1):i.removeEventListener("wheel",C,!1))}},[]),(0,v.jsxs)("div",{className:"list-container",children:[(0,v.jsx)("div",{ref:$,style:{height:"".concat(se,"px")},className:"list-platform"}),(0,v.jsx)("ul",{ref:z,className:"list",style:{transform:"translate3d(0,".concat(ae,"px,0)")},children:he.map(function(i,o){return(0,v.jsx)("li",{"data-index":"".concat(O+o),children:(0,v.jsx)(r,{data:i})},i.id||i.key||o)})})]})}var _=q,ee=function(e){var t=e.data,r=parseInt(t),n=r%2?"40px":"80px";return(0,v.jsx)("div",{style:{lineHeight:n,background:r%2?"#f5f5f5":"#fff"},children:(0,v.jsxs)("h3",{children:["#",r," title name"]})})},te=a.memo(ee),D=function(){for(var e=[],t=0;t<1e4;t++)e.push("".concat(t," Item"));return e},re=function(){var s=(0,a.useState)(D()),e=f()(s,2),t=e[0],r=e[1],n=function(){r(D())};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{children:(0,v.jsx)("button",{onClick:n,children:"\u91CD\u65B0\u83B7\u53D6\u6570\u636E\u6E90"})}),(0,v.jsx)(_,{Item:te,resources:t,estimatedItemSize:60,visibleCount:10})]})}},13769:function(d,E,u){var I=u(48541);function f(a,g){if(a==null)return{};var m=I(a,g),S,p;if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(a);for(p=0;p<L.length;p++)S=L[p],!(g.indexOf(S)>=0)&&Object.prototype.propertyIsEnumerable.call(a,S)&&(m[S]=a[S])}return m}d.exports=f,d.exports.__esModule=!0,d.exports.default=d.exports},48541:function(d){function E(u,I){if(u==null)return{};var f={},a=Object.keys(u),g,m;for(m=0;m<a.length;m++)g=a[m],!(I.indexOf(g)>=0)&&(f[g]=u[g]);return f}d.exports=E,d.exports.__esModule=!0,d.exports.default=d.exports}}]);
